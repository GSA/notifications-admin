{% extends "withoutnav_template.html" %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/form.html" import form_wrapper %}

{% block per_page_title %}
  {% if again %}
    You need to sign in again
  {% else %}
    Sign in
  {% endif %}
{% endblock %}

{% block maincolumn_content %}

<div class="grid-row">
  <div class="tablet:grid-col-12">

    {% if again %}
      <h1 class="font-body-2xl margin-bottom-3">You need to sign in again</h1>
      {% if other_device %}
        <p>
          We signed you out because you logged in to Notify on another device.
        </p>
      {% else %}
        <p>
          We signed you out because you have not used Notify for a while.
        </p>
      {% endif %}
    {% else %}
      <h1 class="font-body-2xl margin-bottom-3">Sign in</h1>
      {% if notify_env_is_dev_or_staging %}
      <p>
        Test login.gov authentication:
        <a class="usa-link" href="https://idp.int.identitysandbox.gov/openid_connect/authorize?acr_values=http%3A%2F%2Fidmanagement.gov%2Fns%2Fassurance%2Fial%2F1&client_id=urn:gov:gsa:openidconnect.profiles:sp:sso:gsa:test_notify_gov&nonce=01234567890123456789012345&prompt=select_account&redirect_uri=http://localhost:6012/sign-in&response_type=code&scope=openid+email&state=abcdefghijklmnopabcdefghijklmnop">Login.gov</a>.
      </p>
      {% endif %}
    {% endif %}

    {% call form_wrapper(autocomplete=True) %}
      {{ form.email_address(param_extensions={"autocomplete": "email"}) }}
      {{ form.password(param_extensions={"autocomplete": "current-password"}) }}
      {{ page_footer("Continue", secondary_link=password_reset_url, secondary_link_text="Forgot your password?") }}
    {% endcall %}
  </div>
</div>

{% endblock %}
